var app=angular.module("cardsApp",["ui.router","ngAnimate"]);app.config(function(r,a){a.hashPrefix(""),r.state({name:"default",url:"/",templateUrl:"panel.htm"}).state({name:"list",url:"/list",templateUrl:"list.htm"}).state({name:"config",url:"/config",templateUrl:"config.htm"})}),app.service("storage",function(){this.saveCards=function(r){var a=[];return r.forEach(function(r){a.push(JSON.stringify(r))}),localStorage.setItem("fastCards",a.join("|")),!0},this.getCards=function(){var r="",a=[];return r=localStorage.getItem("fastCards"),""!=r&&null!=r||(r='{"question":"Gdzie urodził się Fryderyk Chopin?","answer":"Żelazowa Wola","active":true}|{"question":"W który roku zmarł Ludwig van Beethoven?","answer":"1827r."}|{"question":"W którym roku urodził się Wolfgang Amadeus Mozart?","answer":"1756r."}|{"question":"Gdzie umarł Johannes Brahms?","answer":"W Wiedniu"}|{"question":"W jakich latach żył Georg Friedrich Händel?","answer":"1685 - 1759"}'),r=r.split("|"),r.forEach(function(r){a.push(JSON.parse(r))}),a}}),app.controller("cardsCtrl",function(r,a,n){var e=this;e.loader=!0,e.question="",e.answer="",e.notiSuccess=!1,e.notiWarning=!1,e.cards=n.getCards(),e.cards.forEach(function(r,a){r.hover=!1,1==r.active&&(e.currentCard=a)}),e.toggleHover=function(r){e.cards[r].hover?e.cards[r].hover=!1:e.cards[r].hover=!0},e.setPage=function(r){"home"==r?e.config=!1:e.config=!0},e.removeCard=function(r){e.cards[r].active&&(e.changeCard(r+1),e.changeCard(r-1)),r<=e.currentCard&&e.currentCard--,e.cards.splice(r,1)},e.addCard=function(){""!=e.question&&""!=e.answer?(e.cards.push({question:e.question,answer:e.answer}),1==e.cards.length&&(e.cards[0].active=!0,e.currentCard=0),e.question="",e.answer=""):e.notiWarning||(e.notiWarning=!0,a(function(){e.notiWarning=!1},3e3))},e.changeCard=function(r){r>=0&&r<e.cards.length&&(e.cards[e.currentCard].active=!1,e.currentCard=r,e.cards[e.currentCard].active=!0,e.cards.forEach(function(r){r.hover=!1}))},e.syncCards=function(){n.saveCards(e.cards)&&!e.notiSuccess&&(e.notiSuccess=!0,a(function(){e.notiSuccess=!1},3e3))}});